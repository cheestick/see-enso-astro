---

---

  <button 
    class="nav__burger" 
    type="button" 
    aria-label="показати меню"
    aria-expanded="false"
    aria-controls="navbar"
    data-burger 
  >
    <span class="icon-burger"></span>
    <span class="icon-close"></span>
  </button>

<script>
  const navigation = document.querySelector('[data-navigation]')
  const btnBurger = document.querySelector('[data-burger]') as HTMLButtonElement
  const iconBurger = document.querySelector('.icon-burger') as HTMLSpanElement
  const iconClose = document.querySelector('.icon-close') as HTMLSpanElement

  const media = window?.matchMedia("(width <= 35em)")

  function updateNavbar(isMobileDevice: boolean) {
      const navLinks = navigation?.querySelectorAll('nav a.navlink')
      if (isMobileDevice) {
          navigation?.setAttribute('inert', '')
          navLinks?.forEach(link => link.addEventListener('click', hideMenu))
      } else {
          navigation?.removeAttribute('inert')
          navLinks?.forEach(link => link.removeEventListener('click', hideMenu))
      }
  }

  function showMenu() {
    document.body.querySelectorAll('body > * + *')?.forEach(el => el.setAttribute('inert', ''))
    navigation?.classList.add('show-navigation')
    navigation?.removeAttribute('inert')
    btnBurger.setAttribute('aria-expanded', 'true')
    btnBurger.setAttribute('aria-label', "сховати меню")
    iconBurger.style.display = 'none'
    iconClose.style.display = 'block'
  }

  function hideMenu() {
    document.body.querySelectorAll('body > * + *')?.forEach(el => el.removeAttribute('inert'))
    navigation?.classList.remove('show-navigation')
    navigation?.setAttribute('inert', '')
    btnBurger.setAttribute('aria-expanded', 'false')
    btnBurger.setAttribute('aria-label', "показати меню")
    iconBurger.style.display = 'block'
    iconClose.style.display = 'none'
  }

  function toggleMenu() {
      const isMenuOpened = navigation?.classList.contains('show-navigation')
      if (!isMenuOpened) {
          showMenu()
      } else {
         hideMenu()
      }
  }

    updateNavbar(media.matches)
    btnBurger?.addEventListener('click', toggleMenu)
    media.addEventListener('change', (e) => updateNavbar(e.matches))
    
</script>

<style is:global>
  .nav__burger {
    --width: 63px;
    --height: 42px;
    --radius: calc(var(--height) / 2);
    
    width: var(--width);
    height: var(--height);
    background-color: var(--color-burger);
    border: 0;
    border-radius: var(--radius);
    overflow: hidden;
    z-index: 110;
  }


  .icon-burger, .icon-close {
    display: inline-block;
    width: 100%;
    height: 100%;
    background-repeat: no-repeat;
    background-position: center;
  }
  .icon-burger {
    background-image: url("/images/icons/menu-burger.svg");
  }
  .icon-close {
    background-image: url("/images/icons/menu-cross.svg");
  }

  /* 29.75em */
@media screen and (width > 35rem) {
   .nav__burger {
      display: none;
    }
  } 
</style>